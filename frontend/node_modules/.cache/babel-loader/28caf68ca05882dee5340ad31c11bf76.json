{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PC\\\\web-cw\\\\frontend\\\\src\\\\components\\\\Login\\\\LoginComponent.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Form, Button, Row, Col } from 'react-bootstrap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Message from '../Message/Message';\nimport Loader from '../Loader/Loader';\nimport FormContainer from '../FormContainer/FormContainer';\nimport { login } from '../../actions/userActions';\nimport Meta from '../Helmet/Meta';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LoginComponent = ({\n  location,\n  history\n}) => {\n  _s();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const dispatch = useDispatch();\n  const userLogin = useSelector(state => state.userLogin);\n  const {\n    loading,\n    userInfo,\n    error\n  } = userLogin;\n  const redirect = location.search ? location.search.split('=')[1] : '/';\n  useEffect(() => {\n    if (userInfo) {\n      history.push(redirect);\n    }\n  }, [userInfo, history, redirect]);\n  const submitHandler = e => {\n    e.preventDefault();\n    dispatch(login(email, password));\n  };\n  return /*#__PURE__*/_jsxDEV(FormContainer, {\n    children: [/*#__PURE__*/_jsxDEV(Meta, {\n      title: \"Agroic | Sign In\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        marginTop: '120px'\n      },\n      children: \"Sign In\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this), error && /*#__PURE__*/_jsxDEV(Message, {\n      variant: \"danger\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 24\n    }, this), loading && /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 26\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: submitHandler,\n      children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n        controlId: \"email\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: [\"Email Address / NIC \", /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: 'red'\n            },\n            children: \"*\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 53\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"nic\",\n          placeholder: \"Enter email or NIC\",\n          value: email,\n          required: true,\n          onChange: e => setEmail(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        controlId: \"password\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: [\"Password \", /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: 'red'\n            },\n            children: \"*\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 42\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"password\",\n          placeholder: \"Enter password\",\n          value: password,\n          required: true,\n          onChange: e => setPassword(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        variant: \"primary\",\n        children: \"Sign In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      className: \"py-3\",\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        style: {\n          marginBottom: '30px'\n        },\n        children: [\"New Customer? \", /*#__PURE__*/_jsxDEV(Link, {\n          to: redirect ? `/register?redirect=${redirect}` : '/register',\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 35\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 9\n  }, this);\n};\n_s(LoginComponent, \"BzGu8FQYYpZCJvK13oRoP+xbLkk=\", false, function () {\n  return [useDispatch, useSelector];\n});\n_c = LoginComponent;\nexport default LoginComponent;\nvar _c;\n$RefreshReg$(_c, \"LoginComponent\");","map":{"version":3,"names":["React","useState","useEffect","Link","Form","Button","Row","Col","useDispatch","useSelector","Message","Loader","FormContainer","login","Meta","jsxDEV","_jsxDEV","LoginComponent","location","history","_s","email","setEmail","password","setPassword","dispatch","userLogin","state","loading","userInfo","error","redirect","search","split","push","submitHandler","e","preventDefault","children","title","fileName","_jsxFileName","lineNumber","columnNumber","style","marginTop","variant","onSubmit","Group","controlId","Label","color","Control","type","placeholder","value","required","onChange","target","className","marginBottom","to","_c","$RefreshReg$"],"sources":["C:/Users/PC/web-cw/frontend/src/components/Login/LoginComponent.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport {\r\n    Form,\r\n    Button,\r\n    Row,\r\n    Col\r\n} from 'react-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Message from '../Message/Message'\r\nimport Loader from '../Loader/Loader'\r\nimport FormContainer from '../FormContainer/FormContainer'\r\nimport { login } from '../../actions/userActions'\r\nimport Meta from '../Helmet/Meta'\r\n\r\nconst LoginComponent = ({ location, history }) => {\r\n\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const userLogin = useSelector(state => state.userLogin)\r\n    const { loading, userInfo, error } = userLogin\r\n    const redirect = location.search ? location.search.split('=')[1] : '/'\r\n\r\n    useEffect(() => {\r\n        if (userInfo) {\r\n            history.push(redirect)\r\n        }\r\n    }, [userInfo, history, redirect])\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault()\r\n        dispatch(login(email, password))\r\n    }\r\n\r\n    return (\r\n        <FormContainer>\r\n            <Meta\r\n                title=\"Agroic | Sign In\"\r\n            />\r\n            <h1 style={{ marginTop: '120px' }}>Sign In</h1>\r\n            { error && <Message variant='danger'>{error}</Message>}\r\n            { loading && <Loader />}\r\n            <Form onSubmit={submitHandler}>\r\n                <Form.Group controlId='email'>\r\n                    <Form.Label>Email Address / NIC <span style={{ color: 'red' }}>*</span></Form.Label>\r\n                    <Form.Control\r\n                        type=\"nic\"\r\n                        placeholder=\"Enter email or NIC\"\r\n                        value={email}\r\n                        required\r\n                        onChange={(e) => setEmail(e.target.value)}\r\n                    ></Form.Control>\r\n                </Form.Group>\r\n                <Form.Group controlId='password'>\r\n                    <Form.Label>Password <span style={{ color: 'red' }}>*</span></Form.Label>\r\n                    <Form.Control\r\n                        type=\"password\"\r\n                        placeholder=\"Enter password\"\r\n                        value={password}\r\n                        required\r\n                        onChange={(e) => setPassword(e.target.value)}\r\n                    ></Form.Control>\r\n                </Form.Group>\r\n                <Button type=\"submit\" variant=\"primary\">Sign In</Button>\r\n            </Form>\r\n            <Row className='py-3'>\r\n                <Col style={{ marginBottom: '30px' }}>\r\n                    New Customer? <Link to={redirect ? `/register?redirect=${redirect}` : '/register'}>Register</Link>\r\n                </Col>\r\n            </Row>\r\n        </FormContainer>\r\n    )\r\n}\r\n\r\nexport default LoginComponent\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}