{"ast":null,"code":"import React,{useEffect}from'react';import{LinkContainer}from'react-router-bootstrap';import{Table,Button,Container,Image}from'react-bootstrap';import{Scrollbar}from\"react-scrollbars-custom\";import{useHistory}from\"react-router-dom\";import{useDispatch,useSelector}from'react-redux';import Message from'./../../../components/Message/Message';import Loader from'./../../../components/Loader/Loader';import{listSupplierProducts}from'./../../../actions/supplierProduct';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Harvest=()=>{const dispatch=useDispatch();let history=useHistory();const supplierProductList=useSelector(state=>state.supplierProductList);const{loading:loadingProducts,error:errorProducts,products}=supplierProductList;const userLogin=useSelector(state=>state.userLogin);const{userInfo}=userLogin;useEffect(()=>{if(!userInfo.isAdmin&&!userInfo){history.push('/login');}else{dispatch(listSupplierProducts());}},[dispatch,history,userInfo]);return/*#__PURE__*/_jsx(Container,{fluid:true,children:/*#__PURE__*/_jsx(Scrollbar,{style:{width:'100%',height:450},children:loadingProducts?/*#__PURE__*/_jsx(Loader,{}):errorProducts?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:errorProducts}):/*#__PURE__*/_jsxs(Table,{style:{marginBottom:'50px',marginTop:\"5px\"},striped:true,bordered:true,hover:true,responsive:true,className:\"table-sm\",children:[/*#__PURE__*/_jsx(\"thead\",{style:{fontWeight:\"bold\"},children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"NAME\"}),/*#__PURE__*/_jsx(\"td\",{children:\"ADDRESS\"}),/*#__PURE__*/_jsx(\"td\",{children:\"IMAGE\"}),/*#__PURE__*/_jsx(\"td\",{children:\"DESCRPTION\"}),/*#__PURE__*/_jsx(\"td\",{children:\"CONTACT\"}),/*#__PURE__*/_jsx(\"td\",{children:\"CROP\"}),/*#__PURE__*/_jsx(\"td\",{children:\"MORE\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:products.map(product=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:product.name}),/*#__PURE__*/_jsx(\"td\",{children:product.address}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Image,{src:product.image,rounded:true,width:\"60px\"})}),/*#__PURE__*/_jsx(\"td\",{children:product.description}),product.phonenumber?/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"a\",{rel:\"noreferrer\",target:\"_blank\",href:\"https://wa.me/\".concat(product.phonenumber),children:product.phonenumber})}):/*#__PURE__*/_jsx(\"td\",{children:\"Null\"}),/*#__PURE__*/_jsx(\"td\",{children:product.cropSelection}),/*#__PURE__*/_jsx(\"td\",{children:product.isReviwed?/*#__PURE__*/_jsx(LinkContainer,{to:\"/supplierproducts/\".concat(product._id,\"/review\"),children:/*#__PURE__*/_jsx(Button,{disabled:true,variant:\"danger\",className:\"btn-sm mr-2\",children:\"Reviewed\"})}):/*#__PURE__*/_jsx(LinkContainer,{to:\"/supplierproducts/\".concat(product._id,\"/review\"),children:/*#__PURE__*/_jsxs(Button,{variant:\"primary\",className:\"btn-sm mr-2\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-eye\"}),\" Review\"]})})})]},product._id))})]})})});};export default Harvest;","map":{"version":3,"names":["React","useEffect","LinkContainer","Table","Button","Container","Image","Scrollbar","useHistory","useDispatch","useSelector","Message","Loader","listSupplierProducts","jsx","_jsx","jsxs","_jsxs","Harvest","dispatch","history","supplierProductList","state","loading","loadingProducts","error","errorProducts","products","userLogin","userInfo","isAdmin","push","fluid","children","style","width","height","variant","marginBottom","marginTop","striped","bordered","hover","responsive","className","fontWeight","map","product","name","address","src","image","rounded","description","phonenumber","rel","target","href","concat","cropSelection","isReviwed","to","_id","disabled"],"sources":["C:/Users/PC/web-cw/frontend/src/components/DashBoard/Harvest/Harvest.jsx"],"sourcesContent":["import React, { useEffect } from 'react'\r\nimport { LinkContainer } from 'react-router-bootstrap'\r\nimport {\r\n    Table,\r\n    Button,\r\n    Container,\r\n    Image\r\n} from 'react-bootstrap'\r\nimport { Scrollbar } from \"react-scrollbars-custom\";\r\nimport { useHistory } from \"react-router-dom\"\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Message from './../../../components/Message/Message'\r\nimport Loader from './../../../components/Loader/Loader'\r\nimport { listSupplierProducts } from './../../../actions/supplierProduct'\r\n\r\nconst Harvest = () => {\r\n\r\n    const dispatch = useDispatch()\r\n    let history = useHistory()\r\n\r\n    const supplierProductList = useSelector(state => state.supplierProductList)\r\n    const { loading: loadingProducts, error: errorProducts, products } = supplierProductList\r\n\r\n    const userLogin = useSelector(state => state.userLogin)\r\n    const { userInfo } = userLogin\r\n\r\n    useEffect(() => {\r\n        if (!userInfo.isAdmin && !userInfo) {\r\n            history.push('/login')\r\n        } else {\r\n            dispatch(listSupplierProducts())\r\n        }\r\n    }, [dispatch, history, userInfo])\r\n\r\n    return (\r\n        <Container fluid>\r\n            <Scrollbar style={{ width: '100%', height: 450 }}>\r\n                {loadingProducts ? <Loader />\r\n                    : errorProducts ? <Message variant='danger'>{errorProducts}</Message>\r\n                        : (\r\n                            <Table style={{ marginBottom: '50px', marginTop: \"5px\" }} striped bordered hover responsive className='table-sm'>\r\n                                <thead style={{ fontWeight: \"bold\" }}>\r\n                                    <tr>\r\n                                        <td>NAME</td>\r\n                                        <td>ADDRESS</td>\r\n                                        <td>IMAGE</td>\r\n                                        <td>DESCRPTION</td>\r\n                                        <td>CONTACT</td>\r\n                                        <td>CROP</td>\r\n                                        <td>MORE</td>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {\r\n                                        products.map(product => (\r\n                                            <tr key={product._id}>\r\n                                                <td>{product.name}</td>\r\n                                                <td>{product.address}</td>\r\n                                                <td>\r\n                                                    <Image src={product.image} rounded width=\"60px\" />\r\n                                                </td>\r\n                                                <td>{product.description}</td>\r\n                                                {\r\n                                                    product.phonenumber\r\n                                                        ? <td>\r\n                                                            <a rel=\"noreferrer\" target='_blank' href={`https://wa.me/${product.phonenumber}`}>{product.phonenumber}</a>\r\n                                                        </td>\r\n                                                        : <td>Null</td>\r\n                                                }\r\n                                                <td>{product.cropSelection}</td>\r\n                                                <td>\r\n                                                    {\r\n                                                        product.isReviwed ? (\r\n                                                            <LinkContainer to={`/supplierproducts/${product._id}/review`}>\r\n                                                                <Button\r\n                                                                    disabled\r\n                                                                    variant=\"danger\"\r\n                                                                    className=\"btn-sm mr-2\">Reviewed\r\n                                                                    </Button>\r\n                                                            </LinkContainer>\r\n                                                        ) : (\r\n                                                                <LinkContainer to={`/supplierproducts/${product._id}/review`}>\r\n                                                                    <Button\r\n                                                                        variant=\"primary\"\r\n                                                                        className=\"btn-sm mr-2\">\r\n                                                                        <i className=\"fas fa-eye\"></i> Review\r\n                                                                    </Button>\r\n                                                                </LinkContainer>\r\n                                                            )\r\n                                                    }\r\n                                                </td>\r\n                                            </tr>\r\n                                        ))\r\n                                    }\r\n                                </tbody>\r\n                            </Table>\r\n                        )\r\n                }\r\n            </Scrollbar>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Harvest\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}