{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';import{Image}from'react-bootstrap';import{GoogleMap,withScriptjs,withGoogleMap,Marker,InfoWindow}from'react-google-maps';import Message from'./../../components/Message/Message';import Loader from'./../../components/Loader/Loader';import{listSupplierProductsForAll}from'./../../actions/supplierProduct';import MapStyles from'./MapStyles';import Rating from'./Rating/Rating';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const Map=()=>{const dispatch=useDispatch();const[selectedPlace,setSelectedPlace]=useState(null);const supplierProductForAllList=useSelector(state=>state.supplierProductForAllList);const{loading:loadingProducts,error:errorProducts,products}=supplierProductForAllList;useEffect(()=>{dispatch(listSupplierProductsForAll());},[dispatch]);return/*#__PURE__*/_jsxs(GoogleMap,{defaultCenter:{lat:6.927079,lng:79.861244},defaultZoom:10,defaultOptions:{styles:MapStyles},children:[loadingProducts?/*#__PURE__*/_jsx(Loader,{}):errorProducts?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:errorProducts}):products.map(place=>/*#__PURE__*/_jsx(Marker,{position:{lat:place.latitude,lng:place.longitude},onClick:()=>{setSelectedPlace(place);},icon:{url:'/mapIcon.svg',scaledSize:new window.google.maps.Size(25,25)}},place._id)),selectedPlace&&/*#__PURE__*/_jsx(InfoWindow,{position:{lat:selectedPlace.latitude,lng:selectedPlace.longitude},onCloseClick:()=>{setSelectedPlace(null);},children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Image,{className:\"mx-auto d-block img-fluid mb-1\",rounded:true,width:\"120px\",src:selectedPlace.image,alt:selectedPlace.name}),/*#__PURE__*/_jsx(\"h4\",{style:{textAlign:\"center\"},children:selectedPlace.cropSelection}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Description: \",selectedPlace.description,/*#__PURE__*/_jsx(\"br\",{}),selectedPlace.isReviwed?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Rating,{text:\"Rating\",value:selectedPlace.rating})})}):'']})]})})]});};const WrappedMap=withScriptjs(withGoogleMap(Map));export default WrappedMap;","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useSelector","Image","GoogleMap","withScriptjs","withGoogleMap","Marker","InfoWindow","Message","Loader","listSupplierProductsForAll","MapStyles","Rating","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Map","dispatch","selectedPlace","setSelectedPlace","supplierProductForAllList","state","loading","loadingProducts","error","errorProducts","products","defaultCenter","lat","lng","defaultZoom","defaultOptions","styles","children","variant","map","place","position","latitude","longitude","onClick","icon","url","scaledSize","window","google","maps","Size","_id","onCloseClick","className","rounded","width","src","image","alt","name","style","textAlign","cropSelection","description","isReviwed","text","value","rating","WrappedMap"],"sources":["C:/Users/PC/web-cw/frontend/src/screens/Map/Map.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Image } from 'react-bootstrap'\r\nimport {\r\n    GoogleMap,\r\n    withScriptjs,\r\n    withGoogleMap,\r\n    Marker,\r\n    InfoWindow\r\n} from 'react-google-maps'\r\nimport Message from './../../components/Message/Message'\r\nimport Loader from './../../components/Loader/Loader'\r\nimport { listSupplierProductsForAll } from './../../actions/supplierProduct'\r\nimport MapStyles from './MapStyles'\r\nimport Rating from './Rating/Rating'\r\n\r\nconst Map = () => {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const [selectedPlace, setSelectedPlace] = useState(null)\r\n\r\n    const supplierProductForAllList = useSelector(state => state.supplierProductForAllList)\r\n    const { loading: loadingProducts, error: errorProducts, products } = supplierProductForAllList\r\n\r\n    useEffect(() => {\r\n        dispatch(listSupplierProductsForAll())\r\n    }, [dispatch])\r\n\r\n    return (\r\n        <GoogleMap\r\n            defaultCenter={{ lat: 6.927079, lng: 79.861244 }}\r\n            defaultZoom={10}\r\n            defaultOptions={{ styles: MapStyles }}\r\n        >\r\n            {\r\n                loadingProducts ? <Loader />\r\n                    : errorProducts\r\n                        ? <Message variant='danger'>{errorProducts}</Message>\r\n                        : (\r\n                            products.map(place => (\r\n                                <Marker\r\n                                    key={place._id}\r\n                                    position={{\r\n                                        lat: place.latitude,\r\n                                        lng: place.longitude\r\n                                    }}\r\n                                    onClick={() => {\r\n                                        setSelectedPlace(place)\r\n                                    }}\r\n                                    icon={{\r\n                                        url: '/mapIcon.svg',\r\n                                        scaledSize: new window.google.maps.Size(25, 25)\r\n                                    }}\r\n                                />\r\n                            ))\r\n                        )\r\n\r\n            }\r\n            {\r\n                selectedPlace && (\r\n                    <InfoWindow\r\n                        position={{\r\n                            lat: selectedPlace.latitude,\r\n                            lng: selectedPlace.longitude\r\n                        }}\r\n                        onCloseClick={() => {\r\n                            setSelectedPlace(null)\r\n                        }}\r\n                    >\r\n                        <div>\r\n                            <Image className=\"mx-auto d-block img-fluid mb-1\" rounded width=\"120px\" src={selectedPlace.image} alt={selectedPlace.name} />\r\n                            <h4 style={{ textAlign: \"center\" }}>{selectedPlace.cropSelection}</h4>\r\n                            <p>\r\n                                Description: {selectedPlace.description}<br />\r\n                                {\r\n                                    selectedPlace.isReviwed\r\n                                        ? (<>\r\n                                            <p><Rating text=\"Rating\" value={selectedPlace.rating} /></p>\r\n                                        </>\r\n                                        )\r\n                                        : ''\r\n                                }\r\n                            </p>\r\n                        </div>\r\n                    </InfoWindow>\r\n                )\r\n            }\r\n        </GoogleMap>\r\n\r\n    )\r\n}\r\n\r\nconst WrappedMap = withScriptjs(withGoogleMap(Map))\r\n\r\nexport default WrappedMap\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}