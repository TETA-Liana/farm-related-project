{"ast":null,"code":"import React,{useEffect}from'react';import{LinkContainer}from'react-router-bootstrap';import{Table,Button,Row,Col,Container}from'react-bootstrap';import{useHistory}from\"react-router-dom\";import{useDispatch,useSelector}from'react-redux';import Message from'./../../../../components/Message/Message';import Loader from'./../../../../components/Loader/Loader';import{listSeedProducts,deleteSeedProducts,createSeedProducts}from'./../../../../actions/productSeedActions';import{SEED_CREATE_RESET}from'./../../../../constants/productConstants';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SeedList=()=>{const dispatch=useDispatch();let history=useHistory();const prodcutSeedList=useSelector(state=>state.prodcutSeedList);const{loading:loadingSeed,error:errorSeed,productSeeds}=prodcutSeedList;const prodcutSeedDelete=useSelector(state=>state.prodcutSeedDelete);const{success:successSeedDelete,loading:loadingDelete,error:errorDelete}=prodcutSeedDelete;const seedCreate=useSelector(state=>state.seedCreate);const{success:successSeedCreate,loading:loadingCreate,error:errorCreate,product:productCreate}=seedCreate;const userLogin=useSelector(state=>state.userLogin);const{userInfo}=userLogin;useEffect(()=>{dispatch({type:SEED_CREATE_RESET});if(!userInfo.isAdmin&&!userInfo){history.push('/login');}else{if(successSeedCreate){history.push(\"/admin/productlist/seed/\".concat(productCreate._id,\"/edit\"));}else{dispatch(listSeedProducts());}}},[dispatch,history,userInfo,successSeedDelete,successSeedCreate,productCreate]);const deleteHandler=id=>{if(window.confirm('Are you sure')){dispatch(deleteSeedProducts(id));}};const createSeedProductHandler=()=>{dispatch(createSeedProducts());};return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(\"h1\",{style:{marginBottom:'20px'},children:\"Seeds\"})}),/*#__PURE__*/_jsx(Col,{className:\"text-right\",children:/*#__PURE__*/_jsxs(Button,{className:\"my-3\",onClick:createSeedProductHandler,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus\"}),\" Create Product\"]})})]}),loadingCreate&&/*#__PURE__*/_jsx(Loader,{}),loadingDelete&&/*#__PURE__*/_jsx(Loader,{}),errorCreate&&/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:errorCreate}),errorDelete&&/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:errorDelete}),loadingSeed?/*#__PURE__*/_jsx(Loader,{}):errorSeed?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:errorSeed}):/*#__PURE__*/_jsxs(Table,{style:{marginBottom:'50px'},striped:true,bordered:true,hover:true,responsive:true,className:\"table-sm\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"td\",{children:\"NAME\"}),/*#__PURE__*/_jsx(\"td\",{children:\"CATEGORY\"}),/*#__PURE__*/_jsx(\"td\",{children:\"PRICE\"}),/*#__PURE__*/_jsx(\"td\",{children:\"EDIT / DELETE\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:productSeeds.map(productSeed=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:productSeed._id}),/*#__PURE__*/_jsx(\"td\",{children:productSeed.name}),/*#__PURE__*/_jsx(\"td\",{children:productSeed.category}),/*#__PURE__*/_jsx(\"td\",{children:productSeed.price}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(LinkContainer,{to:\"/admin/productlist/seed/\".concat(productSeed._id,\"/edit\"),children:/*#__PURE__*/_jsx(Button,{variant:\"light\",className:\"btn btn-sm\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-edit\"})})}),/*#__PURE__*/_jsx(Button,{variant:\"danger\",className:\"btn-sm mr-2\",onClick:()=>deleteHandler(productSeed._id),children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-trash-alt\"})})]})]},productSeed._id))})]})]});};export default SeedList;","map":{"version":3,"names":["React","useEffect","LinkContainer","Table","Button","Row","Col","Container","useHistory","useDispatch","useSelector","Message","Loader","listSeedProducts","deleteSeedProducts","createSeedProducts","SEED_CREATE_RESET","jsx","_jsx","jsxs","_jsxs","SeedList","dispatch","history","prodcutSeedList","state","loading","loadingSeed","error","errorSeed","productSeeds","prodcutSeedDelete","success","successSeedDelete","loadingDelete","errorDelete","seedCreate","successSeedCreate","loadingCreate","errorCreate","product","productCreate","userLogin","userInfo","type","isAdmin","push","concat","_id","deleteHandler","id","window","confirm","createSeedProductHandler","children","style","marginBottom","className","onClick","variant","striped","bordered","hover","responsive","map","productSeed","name","category","price","to"],"sources":["C:/Users/PC/web-cw/frontend/src/components/DashBoard/ProductList/SeedList/SeedList.jsx"],"sourcesContent":["import React, { useEffect } from 'react'\r\nimport { LinkContainer } from 'react-router-bootstrap'\r\nimport {\r\n    Table,\r\n    Button,\r\n    Row,\r\n    Col,\r\n    Container\r\n} from 'react-bootstrap'\r\nimport { useHistory } from \"react-router-dom\"\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Message from './../../../../components/Message/Message'\r\nimport Loader from './../../../../components/Loader/Loader'\r\nimport { listSeedProducts, deleteSeedProducts, createSeedProducts } from './../../../../actions/productSeedActions'\r\nimport { SEED_CREATE_RESET } from './../../../../constants/productConstants'\r\n\r\nconst SeedList = () => {\r\n\r\n    const dispatch = useDispatch()\r\n    let history = useHistory()\r\n\r\n    const prodcutSeedList = useSelector(state => state.prodcutSeedList)\r\n    const { loading: loadingSeed, error: errorSeed, productSeeds } = prodcutSeedList\r\n\r\n    const prodcutSeedDelete = useSelector(state => state.prodcutSeedDelete)\r\n    const { success: successSeedDelete, loading: loadingDelete, error: errorDelete } = prodcutSeedDelete\r\n\r\n    const seedCreate = useSelector(state => state.seedCreate)\r\n    const {\r\n        success: successSeedCreate,\r\n        loading: loadingCreate,\r\n        error: errorCreate,\r\n        product: productCreate\r\n    } = seedCreate\r\n\r\n    const userLogin = useSelector(state => state.userLogin)\r\n    const { userInfo } = userLogin\r\n\r\n    useEffect(() => {\r\n        dispatch({ type: SEED_CREATE_RESET })\r\n        if (!userInfo.isAdmin && !userInfo) {\r\n            history.push('/login')\r\n        } else {\r\n            if (successSeedCreate) {\r\n                history.push(`/admin/productlist/seed/${productCreate._id}/edit`)\r\n            } else {\r\n                dispatch(listSeedProducts())\r\n            }\r\n        }\r\n    }, [dispatch, history, userInfo, successSeedDelete, successSeedCreate, productCreate])\r\n\r\n    const deleteHandler = (id) => {\r\n        if (window.confirm('Are you sure')) {\r\n            dispatch(deleteSeedProducts(id))\r\n        }\r\n    }\r\n\r\n    const createSeedProductHandler = () => {\r\n        dispatch(createSeedProducts())\r\n    }\r\n\r\n    return (\r\n        <Container>\r\n            <Row>\r\n                <Col>\r\n                    <h1 style={{ marginBottom: '20px' }}>Seeds</h1>\r\n                </Col>\r\n                <Col className=\"text-right\">\r\n                    <Button className='my-3' onClick={createSeedProductHandler}>\r\n                        <i className='fas fa-plus'></i> Create Product\r\n                    </Button>\r\n                </Col>\r\n            </Row>\r\n            { loadingCreate && <Loader />}\r\n            { loadingDelete && <Loader />}\r\n            { errorCreate && <Message variant='danger'>{errorCreate}</Message>}\r\n            { errorDelete && <Message variant='danger'>{errorDelete}</Message>}\r\n            {loadingSeed ? <Loader />\r\n                : errorSeed ? <Message variant='danger'>{errorSeed}</Message>\r\n                    : (\r\n                        <Table style={{ marginBottom: '50px' }} striped bordered hover responsive className='table-sm'>\r\n                            <thead>\r\n                                <tr>\r\n                                    <td>ID</td>\r\n                                    <td>NAME</td>\r\n                                    <td>CATEGORY</td>\r\n                                    <td>PRICE</td>\r\n                                    <td>EDIT / DELETE</td>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {\r\n                                    productSeeds.map(productSeed => (\r\n                                        <tr key={productSeed._id}>\r\n                                            <td>{productSeed._id}</td>\r\n                                            <td>{productSeed.name}</td>\r\n                                            <td>{productSeed.category}</td>\r\n                                            <td>{productSeed.price}</td>\r\n                                            <td>\r\n                                                <LinkContainer to={`/admin/productlist/seed/${productSeed._id}/edit`}>\r\n                                                    <Button variant=\"light\" className=\"btn btn-sm\">\r\n                                                        <i className=\"fas fa-edit\"></i>\r\n                                                    </Button>\r\n                                                </LinkContainer>\r\n                                                <Button\r\n                                                    variant=\"danger\"\r\n                                                    className=\"btn-sm mr-2\"\r\n                                                    onClick={() => deleteHandler(productSeed._id)}\r\n                                                >\r\n                                                    <i className=\"fas fa-trash-alt\"></i>\r\n                                                </Button>\r\n                                            </td>\r\n                                        </tr>\r\n                                    ))\r\n                                }\r\n                            </tbody>\r\n                        </Table>\r\n                    )\r\n            }\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default SeedList\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}