{"ast":null,"code":"import React,{useEffect}from'react';import{LinkContainer}from'react-router-bootstrap';import{Table,Button,Row,Col,Container}from'react-bootstrap';import{useHistory}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import Message from'./../../../../components/Message/Message';import Loader from'./../../../../components/Loader/Loader';import{listConsumerProducts,deleteConsumerProduct,createConsumer}from'./../../../../actions/consumerProductAction';import{CONSUMER_CREATE_RESET}from'./../../../../constants/productConstants';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ConsumerList=()=>{const dispatch=useDispatch();let history=useHistory();const consumerProductList=useSelector(state=>state.consumerProductList);const{loading:loadingConsumer,error:errorConsumer,consumerProducts}=consumerProductList;const consumerProductDelete=useSelector(state=>state.consumerProductDelete);const{loading:deleteLoadingConsumer,error:errorDeleteConsumer,success:successDelete}=consumerProductDelete;const consumerCreate=useSelector(state=>state.consumerCreate);const{loading:createLoadingConsumer,error:errorcreateConsumer,success:successCreate,product:consumerProduct}=consumerCreate;const userLogin=useSelector(state=>state.userLogin);const{userInfo}=userLogin;useEffect(()=>{dispatch({type:CONSUMER_CREATE_RESET});if(!userInfo.isAdmin&&!userInfo){history.push('/login');}else{if(successCreate){history.push(\"/admin/productlist/consumer/\".concat(consumerProduct._id,\"/edit\"));}else{dispatch(listConsumerProducts());}}},[dispatch,history,userInfo,successDelete,successCreate,consumerProduct]);const deleteHandler=id=>{if(window.confirm('Are you sure')){dispatch(deleteConsumerProduct(id));}};const createConsumerProductHandler=()=>{dispatch(createConsumer());};return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(\"h1\",{style:{marginBottom:'20px'},children:\"Consumer\"})}),/*#__PURE__*/_jsx(Col,{className:\"text-right\",children:/*#__PURE__*/_jsxs(Button,{className:\"my-3\",onClick:createConsumerProductHandler,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus\"}),\" Create Product\"]})})]}),createLoadingConsumer&&/*#__PURE__*/_jsx(Loader,{}),errorcreateConsumer&&/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:errorcreateConsumer}),deleteLoadingConsumer&&/*#__PURE__*/_jsx(Loader,{}),errorDeleteConsumer&&/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:errorDeleteConsumer}),loadingConsumer?/*#__PURE__*/_jsx(Loader,{}):errorConsumer?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:errorConsumer}):/*#__PURE__*/_jsxs(Table,{style:{marginBottom:'50px'},striped:true,bordered:true,hover:true,responsive:true,className:\"table-sm\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"td\",{children:\"SELLER NAME\"}),/*#__PURE__*/_jsx(\"td\",{children:\"PRODUCT NAME\"}),/*#__PURE__*/_jsx(\"td\",{children:\"AVALAIBLE LOCATION\"}),/*#__PURE__*/_jsx(\"td\",{children:\"EDIT / DELETE\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:consumerProducts.map(consumer=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:consumer._id}),/*#__PURE__*/_jsx(\"td\",{children:consumer.seller_name}),/*#__PURE__*/_jsx(\"td\",{children:consumer.prod_name}),/*#__PURE__*/_jsx(\"td\",{children:consumer.avalaible_location}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(LinkContainer,{to:\"/admin/productlist/consumer/\".concat(consumer._id,\"/edit\"),children:/*#__PURE__*/_jsx(Button,{variant:\"light\",className:\"btn btn-sm\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-edit\"})})}),/*#__PURE__*/_jsx(Button,{variant:\"danger\",className:\"btn-sm mr-2\",onClick:()=>deleteHandler(consumer._id),children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-trash-alt\"})})]})]},consumer._id))})]})]});};export default ConsumerList;","map":{"version":3,"names":["React","useEffect","LinkContainer","Table","Button","Row","Col","Container","useHistory","useDispatch","useSelector","Message","Loader","listConsumerProducts","deleteConsumerProduct","createConsumer","CONSUMER_CREATE_RESET","jsx","_jsx","jsxs","_jsxs","ConsumerList","dispatch","history","consumerProductList","state","loading","loadingConsumer","error","errorConsumer","consumerProducts","consumerProductDelete","deleteLoadingConsumer","errorDeleteConsumer","success","successDelete","consumerCreate","createLoadingConsumer","errorcreateConsumer","successCreate","product","consumerProduct","userLogin","userInfo","type","isAdmin","push","concat","_id","deleteHandler","id","window","confirm","createConsumerProductHandler","children","style","marginBottom","className","onClick","variant","striped","bordered","hover","responsive","map","consumer","seller_name","prod_name","avalaible_location","to"],"sources":["C:/Users/PC/web-cw/frontend/src/components/DashBoard/ProductList/ConsumerList/ConsumerList.jsx"],"sourcesContent":["import React, { useEffect } from 'react'\r\nimport { LinkContainer } from 'react-router-bootstrap'\r\nimport {\r\n    Table,\r\n    Button,\r\n    Row,\r\n    Col,\r\n    Container\r\n} from 'react-bootstrap'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Message from './../../../../components/Message/Message'\r\nimport Loader from './../../../../components/Loader/Loader'\r\nimport { listConsumerProducts, deleteConsumerProduct, createConsumer } from './../../../../actions/consumerProductAction'\r\nimport { CONSUMER_CREATE_RESET } from './../../../../constants/productConstants'\r\n\r\nconst ConsumerList = () => {\r\n\r\n    const dispatch = useDispatch()\r\n    let history = useHistory()\r\n\r\n    const consumerProductList = useSelector(state => state.consumerProductList)\r\n    const { loading: loadingConsumer, error: errorConsumer, consumerProducts } = consumerProductList\r\n\r\n    const consumerProductDelete = useSelector(state => state.consumerProductDelete)\r\n    const { loading: deleteLoadingConsumer, error: errorDeleteConsumer, success: successDelete } = consumerProductDelete\r\n\r\n    const consumerCreate = useSelector(state => state.consumerCreate)\r\n    const {\r\n        loading: createLoadingConsumer,\r\n        error: errorcreateConsumer,\r\n        success: successCreate,\r\n        product: consumerProduct\r\n    } = consumerCreate\r\n\r\n    const userLogin = useSelector(state => state.userLogin)\r\n    const { userInfo } = userLogin\r\n\r\n    useEffect(() => {\r\n        dispatch({ type: CONSUMER_CREATE_RESET })\r\n        if (!userInfo.isAdmin && !userInfo) {\r\n            history.push('/login')\r\n        } else {\r\n            if (successCreate) {\r\n                history.push(`/admin/productlist/consumer/${consumerProduct._id}/edit`)\r\n            } else {\r\n                dispatch(listConsumerProducts())\r\n            }\r\n        }\r\n    }, [dispatch, history, userInfo, successDelete, successCreate, consumerProduct])\r\n\r\n    const deleteHandler = (id) => {\r\n        if (window.confirm('Are you sure')) {\r\n            dispatch(deleteConsumerProduct(id))\r\n        }\r\n    }\r\n\r\n    const createConsumerProductHandler = () => {\r\n        dispatch(createConsumer())\r\n    }\r\n\r\n    return (\r\n        <Container>\r\n            <Row>\r\n                <Col>\r\n                    <h1 style={{ marginBottom: '20px' }}>Consumer</h1>\r\n                </Col>\r\n                <Col className=\"text-right\">\r\n                    <Button className='my-3' onClick={createConsumerProductHandler}>\r\n                        <i className='fas fa-plus'></i> Create Product\r\n                    </Button>\r\n                </Col>\r\n            </Row>\r\n            { createLoadingConsumer && <Loader />}\r\n            { errorcreateConsumer && <Message variant='danger'>{errorcreateConsumer}</Message>}\r\n            { deleteLoadingConsumer && <Loader />}\r\n            { errorDeleteConsumer && <Message variant='danger'>{errorDeleteConsumer}</Message>}\r\n            {loadingConsumer ? <Loader />\r\n                : errorConsumer ? <Message variant='danger'>{errorConsumer}</Message>\r\n                    : (\r\n                        <Table style={{ marginBottom: '50px' }} striped bordered hover responsive className='table-sm'>\r\n                            <thead>\r\n                                <tr>\r\n                                    <td>ID</td>\r\n                                    <td>SELLER NAME</td>\r\n                                    <td>PRODUCT NAME</td>\r\n                                    <td>AVALAIBLE LOCATION</td>\r\n                                    <td>EDIT / DELETE</td>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {\r\n                                    consumerProducts.map(consumer => (\r\n                                        <tr key={consumer._id}>\r\n                                            <td>{consumer._id}</td>\r\n                                            <td>{consumer.seller_name}</td>\r\n                                            <td>{consumer.prod_name}</td>\r\n                                            <td>{consumer.avalaible_location}</td>\r\n                                            <td>\r\n                                                <LinkContainer to={`/admin/productlist/consumer/${consumer._id}/edit`}>\r\n                                                    <Button variant=\"light\" className=\"btn btn-sm\">\r\n                                                        <i className=\"fas fa-edit\"></i>\r\n                                                    </Button>\r\n                                                </LinkContainer>\r\n                                                <Button\r\n                                                    variant=\"danger\"\r\n                                                    className=\"btn-sm mr-2\"\r\n                                                    onClick={() => deleteHandler(consumer._id)}\r\n                                                >\r\n                                                    <i className=\"fas fa-trash-alt\"></i>\r\n                                                </Button>\r\n                                            </td>\r\n                                        </tr>\r\n                                    ))\r\n                                }\r\n                            </tbody>\r\n                        </Table>\r\n                    )\r\n            }\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default ConsumerList\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}