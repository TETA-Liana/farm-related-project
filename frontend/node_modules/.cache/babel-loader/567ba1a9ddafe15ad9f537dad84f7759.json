{"ast":null,"code":"import axios from'axios';import{PRODUCT_SEED_LIST_REQUEST,PRODUCT_SEED_LIST_SUCCESS,PRODUCT_SEED_LIST_FAIL,PRODUCT_SEED_DETAILS_REQUEST,PRODUCT_SEED_DETAILS_SUCCESS,PRODUCT_SEED_DETAILS_FAIL,SEED_DELETE_REQUEST,SEED_DELETE_SUCCESS,SEED_DELETE_FAIL,SEED_CREATE_REQUEST,SEED_CREATE_SUCCESS,SEED_CREATE_FAIL,SEED_UPDATE_REQUEST,SEED_UPDATE_FAIL,SEED_UPDATE_SUCCESS,SEED_UPDATE_RESET,PRODUCT_CREATE_REVIEW_REQUEST,PRODUCT_CREATE_REVIEW_SUCCESS,PRODUCT_CREATE_REVIEW_FAIL}from'./../constants/productConstants.js';import{logout}from'./userActions';export const listSeedProducts=()=>async dispatch=>{try{dispatch({type:PRODUCT_SEED_LIST_REQUEST});const{data}=await axios.get('/api/seeds');dispatch({type:PRODUCT_SEED_LIST_SUCCESS,payload:data});}catch(error){dispatch({type:PRODUCT_SEED_LIST_FAIL,payload:error.response&&error.response.data.message?error.response.data.message:error.message});}};export const listSeedProductsDetails=id=>async dispatch=>{try{dispatch({type:PRODUCT_SEED_DETAILS_REQUEST});const{data}=await axios.get(\"/api/seeds/\".concat(id));dispatch({type:PRODUCT_SEED_DETAILS_SUCCESS,payload:data});}catch(error){dispatch({type:PRODUCT_SEED_DETAILS_FAIL,payload:error.response&&error.response.data.message?error.response.data.message:error.message});}};export const deleteSeedProducts=id=>async(dispatch,getState)=>{try{dispatch({type:SEED_DELETE_REQUEST});const{userLogin:{userInfo}}=getState();const config={headers:{Authorization:\"Bearer \".concat(userInfo.token)}};await axios.delete(\"/api/seeds/\".concat(id),config);dispatch({type:SEED_DELETE_SUCCESS});}catch(error){dispatch({type:SEED_DELETE_FAIL,payload:error.response&&error.response.data.message?error.response.data.message:error.message});}};export const createSeedProducts=id=>async(dispatch,getState)=>{try{dispatch({type:SEED_CREATE_REQUEST});const{userLogin:{userInfo}}=getState();const config={headers:{Authorization:\"Bearer \".concat(userInfo.token)}};const{data}=await axios.post(\"/api/seeds\",{},config);dispatch({type:SEED_CREATE_SUCCESS,payload:data});}catch(error){dispatch({type:SEED_CREATE_FAIL,payload:error.response&&error.response.data.message?error.response.data.message:error.message});}};export const updateSeedProducts=seed=>async(dispatch,getState)=>{try{dispatch({type:SEED_UPDATE_REQUEST});const{userLogin:{userInfo}}=getState();const config={headers:{'Content-type':'application/json',Authorization:\"Bearer \".concat(userInfo.token)}};const{data}=await axios.put(\"/api/seeds/\".concat(seed._id),seed,config);dispatch({type:SEED_UPDATE_SUCCESS,payload:data});dispatch({type:SEED_UPDATE_RESET});}catch(error){dispatch({type:SEED_UPDATE_FAIL,payload:error.response&&error.response.data.message?error.response.data.message:error.message});}};export const createProductReview=(productId,review)=>async(dispatch,getState)=>{try{dispatch({type:PRODUCT_CREATE_REVIEW_REQUEST});const{userLogin:{userInfo}}=getState();const config={headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(userInfo.token)}};await axios.post(\"/api/seeds/\".concat(productId,\"/reviews\"),review,config);dispatch({type:PRODUCT_CREATE_REVIEW_SUCCESS});}catch(error){const message=error.response&&error.response.data.message?error.response.data.message:error.message;if(message==='Not authorized, token failed'){dispatch(logout());}dispatch({type:PRODUCT_CREATE_REVIEW_FAIL,payload:message});}};","map":{"version":3,"names":["axios","PRODUCT_SEED_LIST_REQUEST","PRODUCT_SEED_LIST_SUCCESS","PRODUCT_SEED_LIST_FAIL","PRODUCT_SEED_DETAILS_REQUEST","PRODUCT_SEED_DETAILS_SUCCESS","PRODUCT_SEED_DETAILS_FAIL","SEED_DELETE_REQUEST","SEED_DELETE_SUCCESS","SEED_DELETE_FAIL","SEED_CREATE_REQUEST","SEED_CREATE_SUCCESS","SEED_CREATE_FAIL","SEED_UPDATE_REQUEST","SEED_UPDATE_FAIL","SEED_UPDATE_SUCCESS","SEED_UPDATE_RESET","PRODUCT_CREATE_REVIEW_REQUEST","PRODUCT_CREATE_REVIEW_SUCCESS","PRODUCT_CREATE_REVIEW_FAIL","logout","listSeedProducts","dispatch","type","data","get","payload","error","response","message","listSeedProductsDetails","id","concat","deleteSeedProducts","getState","userLogin","userInfo","config","headers","Authorization","token","delete","createSeedProducts","post","updateSeedProducts","seed","put","_id","createProductReview","productId","review"],"sources":["C:/Users/PC/web-cw/frontend/src/actions/productSeedActions.js"],"sourcesContent":["import axios from 'axios'\r\nimport {\r\n    PRODUCT_SEED_LIST_REQUEST,\r\n    PRODUCT_SEED_LIST_SUCCESS,\r\n    PRODUCT_SEED_LIST_FAIL,\r\n    PRODUCT_SEED_DETAILS_REQUEST,\r\n    PRODUCT_SEED_DETAILS_SUCCESS,\r\n    PRODUCT_SEED_DETAILS_FAIL,\r\n    SEED_DELETE_REQUEST,\r\n    SEED_DELETE_SUCCESS,\r\n    SEED_DELETE_FAIL,\r\n    SEED_CREATE_REQUEST,\r\n    SEED_CREATE_SUCCESS,\r\n    SEED_CREATE_FAIL,\r\n    SEED_UPDATE_REQUEST,\r\n    SEED_UPDATE_FAIL,\r\n    SEED_UPDATE_SUCCESS,\r\n    SEED_UPDATE_RESET,\r\n    PRODUCT_CREATE_REVIEW_REQUEST,\r\n    PRODUCT_CREATE_REVIEW_SUCCESS,\r\n    PRODUCT_CREATE_REVIEW_FAIL\r\n} from './../constants/productConstants.js'\r\nimport { logout } from './userActions'\r\n\r\nexport const listSeedProducts = () => async (dispatch) => {\r\n    try {\r\n        dispatch({ type: PRODUCT_SEED_LIST_REQUEST })\r\n\r\n        const { data } = await axios.get('/api/seeds')\r\n\r\n        dispatch({\r\n            type: PRODUCT_SEED_LIST_SUCCESS,\r\n            payload: data\r\n        })\r\n    } catch (error) {\r\n        dispatch({\r\n            type: PRODUCT_SEED_LIST_FAIL,\r\n            payload:\r\n                error.response && error.response.data.message\r\n                    ? error.response.data.message\r\n                    : error.message\r\n        })\r\n    }\r\n}\r\n\r\nexport const listSeedProductsDetails = (id) => async (dispatch) => {\r\n    try {\r\n        dispatch({ type: PRODUCT_SEED_DETAILS_REQUEST })\r\n\r\n        const { data } = await axios.get(`/api/seeds/${id}`)\r\n\r\n        dispatch({\r\n            type: PRODUCT_SEED_DETAILS_SUCCESS,\r\n            payload: data\r\n        })\r\n    } catch (error) {\r\n        dispatch({\r\n            type: PRODUCT_SEED_DETAILS_FAIL,\r\n            payload:\r\n                error.response && error.response.data.message\r\n                    ? error.response.data.message\r\n                    : error.message\r\n        })\r\n    }\r\n}\r\n\r\nexport const deleteSeedProducts = (id) => async (dispatch, getState) => {\r\n    try {\r\n        dispatch({ type: SEED_DELETE_REQUEST })\r\n\r\n        const { userLogin: { userInfo } } = getState()\r\n\r\n        const config = {\r\n            headers: {\r\n                Authorization: `Bearer ${userInfo.token}`\r\n            },\r\n        }\r\n\r\n        await axios.delete(`/api/seeds/${id}`, config)\r\n\r\n        dispatch({\r\n            type: SEED_DELETE_SUCCESS,\r\n        })\r\n    } catch (error) {\r\n        dispatch({\r\n            type: SEED_DELETE_FAIL,\r\n            payload:\r\n                error.response && error.response.data.message\r\n                    ? error.response.data.message\r\n                    : error.message\r\n        })\r\n    }\r\n}\r\n\r\nexport const createSeedProducts = (id) => async (dispatch, getState) => {\r\n    try {\r\n        dispatch({ type: SEED_CREATE_REQUEST })\r\n\r\n        const { userLogin: { userInfo } } = getState()\r\n\r\n        const config = {\r\n            headers: {\r\n                Authorization: `Bearer ${userInfo.token}`\r\n            },\r\n        }\r\n\r\n        const { data } = await axios.post(`/api/seeds`, {}, config)\r\n\r\n        dispatch({\r\n            type: SEED_CREATE_SUCCESS,\r\n            payload: data\r\n        })\r\n    } catch (error) {\r\n        dispatch({\r\n            type: SEED_CREATE_FAIL,\r\n            payload:\r\n                error.response && error.response.data.message\r\n                    ? error.response.data.message\r\n                    : error.message\r\n        })\r\n    }\r\n}\r\n\r\nexport const updateSeedProducts = (seed) => async (dispatch, getState) => {\r\n    try {\r\n        dispatch({ type: SEED_UPDATE_REQUEST })\r\n\r\n        const { userLogin: { userInfo } } = getState()\r\n\r\n        const config = {\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                Authorization: `Bearer ${userInfo.token}`\r\n            },\r\n        }\r\n\r\n        const { data } = await axios.put(`/api/seeds/${seed._id}`, seed, config)\r\n\r\n        dispatch({\r\n            type: SEED_UPDATE_SUCCESS,\r\n            payload: data\r\n        })\r\n\r\n        dispatch({ type: SEED_UPDATE_RESET })\r\n\r\n    } catch (error) {\r\n        dispatch({\r\n            type: SEED_UPDATE_FAIL,\r\n            payload:\r\n                error.response && error.response.data.message\r\n                    ? error.response.data.message\r\n                    : error.message\r\n        })\r\n    }\r\n}\r\n\r\nexport const createProductReview = (productId, review) => async (\r\n    dispatch,\r\n    getState\r\n  ) => {\r\n    try {\r\n      dispatch({\r\n        type: PRODUCT_CREATE_REVIEW_REQUEST,\r\n      })\r\n  \r\n      const {\r\n        userLogin: { userInfo },\r\n      } = getState()\r\n  \r\n      const config = {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Authorization: `Bearer ${userInfo.token}`,\r\n        },\r\n      }\r\n  \r\n      await axios.post(`/api/seeds/${productId}/reviews`, review, config)\r\n  \r\n      dispatch({\r\n        type: PRODUCT_CREATE_REVIEW_SUCCESS,\r\n      })\r\n    } catch (error) {\r\n      const message =\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message\r\n      if (message === 'Not authorized, token failed') {\r\n        dispatch(logout())\r\n      }\r\n      dispatch({\r\n        type: PRODUCT_CREATE_REVIEW_FAIL,\r\n        payload: message,\r\n      })\r\n    }\r\n  }"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}