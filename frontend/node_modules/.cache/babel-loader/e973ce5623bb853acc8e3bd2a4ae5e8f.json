{"ast":null,"code":"import React,{useEffect}from'react';import{LinkContainer}from'react-router-bootstrap';import{Table,Button,Container,Col,Row}from'react-bootstrap';import{useHistory}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import Message from'./../../../../components/Message/Message';import Loader from'./../../../../components/Loader/Loader';import{listLendMachineProducts,deleteLendMachineProduct,createLendMachine}from'./../../../../actions/productLendMachinesActions';import{MACHINE_CREATE_RESET}from'./../../../../constants/productConstants';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SeedList=()=>{const dispatch=useDispatch();let history=useHistory();const productLendMachinesList=useSelector(state=>state.productLendMachinesList);const{loading:loadingMachine,error:errorMachine,productLendMachines}=productLendMachinesList;const productLendMachinesDelete=useSelector(state=>state.productLendMachinesDelete);const{loading:loadingDelete,error:errorDelete,success:successDelete}=productLendMachinesDelete;const LendMachinesCreate=useSelector(state=>state.LendMachinesCreate);const{loading:loadingCreate,error:errorCreate,success:successCreate,product:productCreate}=LendMachinesCreate;const userLogin=useSelector(state=>state.userLogin);const{userInfo}=userLogin;useEffect(()=>{dispatch({type:MACHINE_CREATE_RESET});if(!userInfo.isAdmin&&!userInfo){history.push('/login');}else{if(successCreate){history.push(\"/admin/productlist/machine/\".concat(productCreate._id,\"/edit\"));}else{dispatch(listLendMachineProducts());}}},[dispatch,history,userInfo,successDelete,successCreate,productCreate]);const deleteHandler=id=>{if(window.confirm('Are you sure')){dispatch(deleteLendMachineProduct(id));}};const createMachineProductHandler=()=>{dispatch(createLendMachine());};return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(\"h1\",{style:{marginBottom:'20px'},children:\"Lend Machines\"})}),/*#__PURE__*/_jsx(Col,{className:\"text-right\",children:/*#__PURE__*/_jsxs(Button,{className:\"my-3\",onClick:createMachineProductHandler,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus\"}),\" Create Product\"]})})]}),loadingCreate&&/*#__PURE__*/_jsx(Loader,{}),errorCreate&&/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:errorCreate}),loadingDelete&&/*#__PURE__*/_jsx(Loader,{}),errorDelete&&/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:errorDelete}),loadingMachine?/*#__PURE__*/_jsx(Loader,{}):errorMachine?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:errorMachine}):/*#__PURE__*/_jsxs(Table,{style:{marginBottom:'50px'},striped:true,bordered:true,hover:true,responsive:true,className:\"table-sm\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"td\",{children:\"NAME\"}),/*#__PURE__*/_jsx(\"td\",{children:\"TARGET PLANT\"}),/*#__PURE__*/_jsx(\"td\",{children:\"MACHINE POWER\"}),/*#__PURE__*/_jsx(\"td\",{children:\"EDIT / DELETE\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:productLendMachines.map(machine=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:machine._id}),/*#__PURE__*/_jsx(\"td\",{children:machine.name}),/*#__PURE__*/_jsx(\"td\",{children:machine.target_plant}),/*#__PURE__*/_jsx(\"td\",{children:machine.machine_power}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(LinkContainer,{to:\"/admin/productlist/machine/\".concat(machine._id,\"/edit\"),children:/*#__PURE__*/_jsx(Button,{variant:\"light\",className:\"btn btn-sm\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-edit\"})})}),/*#__PURE__*/_jsx(Button,{variant:\"danger\",className:\"btn-sm mr-2\",onClick:()=>deleteHandler(machine._id),children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-trash-alt\"})})]})]},machine._id))})]})]});};export default SeedList;","map":{"version":3,"names":["React","useEffect","LinkContainer","Table","Button","Container","Col","Row","useHistory","useDispatch","useSelector","Message","Loader","listLendMachineProducts","deleteLendMachineProduct","createLendMachine","MACHINE_CREATE_RESET","jsx","_jsx","jsxs","_jsxs","SeedList","dispatch","history","productLendMachinesList","state","loading","loadingMachine","error","errorMachine","productLendMachines","productLendMachinesDelete","loadingDelete","errorDelete","success","successDelete","LendMachinesCreate","loadingCreate","errorCreate","successCreate","product","productCreate","userLogin","userInfo","type","isAdmin","push","concat","_id","deleteHandler","id","window","confirm","createMachineProductHandler","children","style","marginBottom","className","onClick","variant","striped","bordered","hover","responsive","map","machine","name","target_plant","machine_power","to"],"sources":["C:/Users/PC/web-cw/frontend/src/components/DashBoard/ProductList/LendMachineList/LendMachineList.jsx"],"sourcesContent":["import React, { useEffect } from 'react'\r\nimport { LinkContainer } from 'react-router-bootstrap'\r\nimport {\r\n    Table,\r\n    Button,\r\n    Container,\r\n    Col,\r\n    Row\r\n} from 'react-bootstrap'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Message from './../../../../components/Message/Message'\r\nimport Loader from './../../../../components/Loader/Loader'\r\nimport { listLendMachineProducts, deleteLendMachineProduct, createLendMachine } from './../../../../actions/productLendMachinesActions'\r\nimport { MACHINE_CREATE_RESET } from './../../../../constants/productConstants'\r\n\r\nconst SeedList = () => {\r\n\r\n    const dispatch = useDispatch()\r\n    let history = useHistory()\r\n\r\n    const productLendMachinesList = useSelector(state => state.productLendMachinesList)\r\n    const { loading: loadingMachine, error: errorMachine, productLendMachines } = productLendMachinesList\r\n\r\n    const productLendMachinesDelete = useSelector(state => state.productLendMachinesDelete)\r\n    const { loading: loadingDelete, error: errorDelete, success: successDelete } = productLendMachinesDelete\r\n\r\n    const LendMachinesCreate = useSelector(state => state.LendMachinesCreate)\r\n    const { loading: loadingCreate, error: errorCreate, success: successCreate, product: productCreate } = LendMachinesCreate\r\n\r\n    const userLogin = useSelector(state => state.userLogin)\r\n    const { userInfo } = userLogin\r\n\r\n    useEffect(() => {\r\n        dispatch({ type: MACHINE_CREATE_RESET })\r\n        if (!userInfo.isAdmin && !userInfo) {\r\n            history.push('/login')\r\n        } else {\r\n            if (successCreate) {\r\n                history.push(`/admin/productlist/machine/${productCreate._id}/edit`)\r\n            } else {\r\n                dispatch(listLendMachineProducts())\r\n            }\r\n        }\r\n    }, [dispatch, history, userInfo, successDelete, successCreate, productCreate])\r\n\r\n    const deleteHandler = (id) => {\r\n        if (window.confirm('Are you sure')) {\r\n            dispatch(deleteLendMachineProduct(id))\r\n        }\r\n    }\r\n\r\n    const createMachineProductHandler = () => {\r\n        dispatch(createLendMachine())\r\n    }\r\n\r\n    return (\r\n        <Container>\r\n            <Row>\r\n                <Col>\r\n                    <h1 style={{ marginBottom: '20px' }}>Lend Machines</h1>\r\n                </Col>\r\n                <Col className=\"text-right\">\r\n                    <Button className='my-3' onClick={createMachineProductHandler}>\r\n                        <i className='fas fa-plus'></i> Create Product\r\n                    </Button>\r\n                </Col>\r\n            </Row>\r\n            { loadingCreate && <Loader />}\r\n            { errorCreate && <Message variant='danger'>{errorCreate}</Message>}\r\n            { loadingDelete && <Loader />}\r\n            { errorDelete && <Message variant='danger'>{errorDelete}</Message>}\r\n            {loadingMachine ? <Loader />\r\n                : errorMachine ? <Message variant='danger'>{errorMachine}</Message>\r\n                    : (\r\n                        <Table style={{ marginBottom: '50px' }} striped bordered hover responsive className='table-sm'>\r\n                            <thead>\r\n                                <tr>\r\n                                    <td>ID</td>\r\n                                    <td>NAME</td>\r\n                                    <td>TARGET PLANT</td>\r\n                                    <td>MACHINE POWER</td>\r\n                                    <td>EDIT / DELETE</td>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {\r\n                                    productLendMachines.map(machine => (\r\n                                        <tr key={machine._id}>\r\n                                            <td>{machine._id}</td>\r\n                                            <td>{machine.name}</td>\r\n                                            <td>{machine.target_plant}</td>\r\n                                            <td>{machine.machine_power}</td>\r\n                                            <td>\r\n                                                <LinkContainer to={`/admin/productlist/machine/${machine._id}/edit`}>\r\n                                                    <Button variant=\"light\" className=\"btn btn-sm\">\r\n                                                        <i className=\"fas fa-edit\"></i>\r\n                                                    </Button>\r\n                                                </LinkContainer>\r\n                                                <Button\r\n                                                    variant=\"danger\"\r\n                                                    className=\"btn-sm mr-2\"\r\n                                                    onClick={() => deleteHandler(machine._id)}\r\n                                                >\r\n                                                    <i className=\"fas fa-trash-alt\"></i>\r\n                                                </Button>\r\n                                            </td>\r\n                                        </tr>\r\n                                    ))\r\n                                }\r\n                            </tbody>\r\n                        </Table>\r\n                    )\r\n            }\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default SeedList\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}